<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ARGUS ‚Äî Journey to Odysseus</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  background: radial-gradient(#050505, #000);
  font-family: Orbitron, sans-serif;
  overflow: hidden;
  touch-action: manipulation;
  color: white;
}

canvas {
  display: block;
  margin: auto;
  border: 4px solid #00f2ff;
  box-shadow: 0 0 45px #00f2ff;
  background: #020202;
}

#ui {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0,0,0,0.9);
  z-index: 10;
}

.menu {
  background: #111;
  padding: 35px;
  border-radius: 22px;
  border: 2px solid #ff00ff;
  text-align: center;
  width: 300px;
  box-shadow: 0 0 40px #ff00ff66;
}

.menu h1 {
  color: #00f2ff;
  margin-bottom: 10px;
}

button {
  padding: 14px 30px;
  font-size: 16px;
  font-family: Orbitron;
  border: none;
  cursor: pointer;
  background: linear-gradient(45deg,#ff00ff,#00f2ff);
  color: #000;
  font-weight: bold;
  border-radius: 10px;
  box-shadow: 0 0 15px #00f2ff;
}

#hud {
  position: fixed;
  top: 15px;
  width: 100%;
  text-align: center;
  color: #00f2ff;
  font-size: 20px;
  text-shadow: 0 0 10px #00f2ff;
}

.leaderboard {
  margin-top: 20px;
  text-align: left;
  font-size: 14px;
}

.leaderboard h3 {
  text-align: center;
  color: #ffd700;
}
</style>
</head>

<body>

<div id="ui">
  <div class="menu">
    <h1>ARGUS</h1>
    <p>Journey to Odysseus</p>
    <button onclick="start()">START JOURNEY</button>
    <p style="font-size:12px;opacity:0.7;">Tap / Click / Space to Jump</p>
    <div class="leaderboard">
      <h3>üèÜ Leaderboard</h3>
      <ol id="scores"></ol>
    </div>
  </div>
</div>

<div id="hud">DISTANCE: <span id="score">0</span></div>
<canvas id="game"></canvas>

<script>
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");
canvas.width=960;
canvas.height=540;

let active=false,frame=0,score=0,speed=4,graceFrames=0;

function resize(){
  const scale=Math.min(innerWidth/960,innerHeight/540);
  canvas.style.transform=`scale(${scale})`;
  canvas.style.transformOrigin="top center";
}
addEventListener("resize",resize);
resize();

// üåå stars
const stars=[...Array(100)].map(()=>({x:Math.random()*960,y:Math.random()*540,s:Math.random()*2+0.5}));

// üêï ARGUS (REAL DOG SHAPE)
const dog={
  x:120,y:120,vy:-2,gravity:0.7,jump:-11,
  update(){
    if(graceFrames>0)graceFrames--;
    else this.vy+=this.gravity;
    this.y+=this.vy;
    if(this.y<40||this.y>canvas.height-60)lose();
  },
  draw(){
    ctx.save();
    ctx.translate(this.x,this.y);

    // body
    ctx.fillStyle="#8b5a2b";
    ctx.beginPath();
    ctx.ellipse(0,0,36,18,0,0,Math.PI*2);
    ctx.fill();

    // head
    ctx.beginPath();
    ctx.ellipse(42,-8,16,14,0,0,Math.PI*2);
    ctx.fill();

    // ears
    ctx.beginPath();
    ctx.moveTo(40,-22);
    ctx.lineTo(30,-40);
    ctx.lineTo(48,-28);
    ctx.fill();

    // legs
    ctx.strokeStyle="#5a3a1a";
    ctx.lineWidth=4;
    [-12,0,12].forEach(x=>{
      ctx.beginPath();
      ctx.moveTo(x,16);
      ctx.lineTo(x,30);
      ctx.stroke();
    });

    // tail
    ctx.beginPath();
    ctx.moveTo(-36,-4);
    ctx.lineTo(-52,-14);
    ctx.stroke();

    ctx.restore();

    ctx.fillStyle="#ffd27f";
    ctx.font="bold 16px Orbitron";
    ctx.fillText("ARGUS",this.x-30,this.y-45);
  }
};

// üßç ODYSSEUS (SHIELD + SWORD)
const odysseus={
  x:canvas.width-140,y:200,
  draw(){
    ctx.save();
    ctx.strokeStyle="#FFD700";
    ctx.lineWidth=4;
    ctx.shadowBlur=20;
    ctx.shadowColor="#FFAA00";

    // head
    ctx.beginPath();
    ctx.arc(this.x,this.y-30,14,0,Math.PI*2);
    ctx.stroke();

    // body
    ctx.beginPath();
    ctx.moveTo(this.x,this.y-15);
    ctx.lineTo(this.x,this.y+60);
    ctx.stroke();

    // shield
    ctx.beginPath();
    ctx.arc(this.x-35,this.y+20,22,0,Math.PI*2);
    ctx.stroke();

    // sword
    ctx.beginPath();
    ctx.moveTo(this.x+30,this.y);
    ctx.lineTo(this.x+30,this.y-60);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(this.x+25,this.y-50);
    ctx.lineTo(this.x+35,this.y-50);
    ctx.stroke();

    // legs
    ctx.beginPath();
    ctx.moveTo(this.x,this.y+60);
    ctx.lineTo(this.x-20,this.y+110);
    ctx.moveTo(this.x,this.y+60);
    ctx.lineTo(this.x+20,this.y+110);
    ctx.stroke();

    ctx.restore();

    ctx.fillStyle="#FFD700";
    ctx.font="16px Orbitron";
    ctx.fillText("ODYSSEUS",this.x-55,this.y-60);
  }
};

// üöß obstacles
let obstacles=[];
class Obstacle{
  constructor(){
    this.x=canvas.width;
    this.w=70;
    this.gap=220;
    this.top=Math.random()*200+60;
  }
  update(){this.x-=speed;}
  draw(){
    ctx.fillStyle="#00f2ff";
    ctx.fillRect(this.x,0,this.w,this.top);
    ctx.fillRect(this.x,this.top+this.gap,this.w,canvas.height);
  }
}

// üèÜ leaderboard
function loadScores(){
  const list=document.getElementById("scores");
  list.innerHTML="";
  JSON.parse(localStorage.getItem("argusScores")||"[]")
    .forEach(s=>{const li=document.createElement("li");li.textContent=s;list.appendChild(li);});
}
function saveScore(){
  let d=JSON.parse(localStorage.getItem("argusScores")||"[]");
  d.push(score); d=d.sort((a,b)=>b-a).slice(0,5);
  localStorage.setItem("argusScores",JSON.stringify(d));
  loadScores();
}
loadScores();

// üéÆ controls
function start(){
  document.getElementById("ui").style.display="none";
  obstacles=[]; score=frame=0; speed=4; graceFrames=30;
  dog.y=120; dog.vy=-2; active=true; loop();
}
function lose(){ if(!active)return; active=false; saveScore(); ui.style.display="flex"; }
function win(){ active=false; saveScore(); ui.style.display="flex"; }
function jump(){ if(active) dog.vy=dog.jump; }

addEventListener("keydown",e=>{if(e.code==="Space")jump();});
canvas.addEventListener("mousedown",jump);
canvas.addEventListener("touchstart",e=>{e.preventDefault();jump();},{passive:false});

// üîÅ loop
function loop(){
  if(!active)return;
  ctx.clearRect(0,0,canvas.width,canvas.height);

  stars.forEach(s=>{s.x-=s.s*0.2;if(s.x<0)s.x=canvas.width;ctx.fillStyle="#444";ctx.fillRect(s.x,s.y,s.s,s.s);});

  if(frame%110===0)obstacles.push(new Obstacle());
  for(let i=obstacles.length-1;i>=0;i--){
    const o=obstacles[i];
    o.update(); o.draw();
    if(dog.x+30>o.x&&dog.x-30<o.x+o.w&&(dog.y<o.top||dog.y>o.top+o.gap))lose();
    if(o.x+o.w<0)obstacles.splice(i,1);
  }

  dog.update(); dog.draw(); odysseus.draw();
  if(dog.x+30>=odysseus.x-20)win();

  score++; scoreEl.textContent=score; frame++;
  requestAnimationFrame(loop);
}
</script>
</body>
</html>
