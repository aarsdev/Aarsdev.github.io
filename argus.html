<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Argus Trying to Reach Odysseus</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  background: radial-gradient(#020202, #000);
  color: #fff;
  font-family: 'Orbitron', sans-serif;
  overflow: hidden;
}

canvas {
  display: block;
  margin: auto;
  border: 4px solid #00f2ff;
  box-shadow: 0 0 40px #00f2ff;
  background: #030303;
}

#ui {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0,0,0,0.85);
  z-index: 10;
}

.menu {
  background: #111;
  padding: 40px;
  border-radius: 20px;
  border: 2px solid #ff00ff;
  text-align: center;
  box-shadow: 0 0 40px rgba(255,0,255,0.4);
}

button {
  padding: 14px 28px;
  font-size: 16px;
  font-family: Orbitron;
  border: none;
  cursor: pointer;
  background: #ff00ff;
  color: #fff;
  margin-top: 20px;
}

#hud {
  position: fixed;
  top: 15px;
  width: 100%;
  display: flex;
  justify-content: center;
  color: #00f2ff;
  font-size: 20px;
}
</style>
</head>

<body>

<div id="ui">
  <div class="menu">
    <h1 style="color:#00f2ff;">ARGUS</h1>
    <p>Trying to Reach Odysseus</p>
    <button onclick="start()">START JOURNEY</button>
  </div>
</div>

<div id="hud">DISTANCE: <span id="score">0</span></div>

<canvas id="game"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

canvas.width = 960;
canvas.height = 540;

let active = false;
let score = 0;
let frame = 0;
let speed = 4;

// üêï ARGUS (DOG)
const dog = {
  x: 120,
  y: 260,
  vy: 0,
  gravity: 0.7,
  jump: -11,

  update() {
    this.vy += this.gravity;
    this.y += this.vy;

    if (this.y < 40 || this.y > canvas.height - 60) lose();
  },

  draw() {
    ctx.save();
    ctx.translate(this.x, this.y);

    ctx.shadowBlur = 20;
    ctx.shadowColor = "#ff00ff";
    ctx.fillStyle = "#ff00ff";

    // body
    ctx.fillRect(-25, -10, 50, 20);
    // head
    ctx.fillRect(20, -20, 22, 22);
    // legs
    ctx.fillRect(-20, 10, 8, 18);
    ctx.fillRect(-5, 10, 8, 18);
    ctx.fillRect(10, 10, 8, 18);
    // tail
    ctx.fillRect(-35, -5, 10, 6);

    ctx.restore();
  }
};

// üßç ODYSSEUS
const odysseus = {
  x: canvas.width - 120,
  y: 210,

  draw() {
    ctx.strokeStyle = "#00f2ff";
    ctx.lineWidth = 5;
    ctx.shadowBlur = 25;
    ctx.shadowColor = "#00f2ff";

    // head
    ctx.beginPath();
    ctx.arc(this.x, this.y, 18, 0, Math.PI * 2);
    ctx.stroke();

    // body
    ctx.beginPath();
    ctx.moveTo(this.x, this.y + 18);
    ctx.lineTo(this.x, this.y + 90);
    ctx.stroke();

    // arms
    ctx.beginPath();
    ctx.moveTo(this.x - 35, this.y + 45);
    ctx.lineTo(this.x + 35, this.y + 45);
    ctx.stroke();

    // legs
    ctx.beginPath();
    ctx.moveTo(this.x, this.y + 90);
    ctx.lineTo(this.x - 25, this.y + 140);
    ctx.moveTo(this.x, this.y + 90);
    ctx.lineTo(this.x + 25, this.y + 140);
    ctx.stroke();

    ctx.shadowBlur = 0;
  }
};

// üöß OBSTACLES
let obstacles = [];

class Obstacle {
  constructor() {
    this.x = canvas.width;
    this.width = 70;
    this.gap = 170;
    this.top = Math.random() * 200 + 60;
  }

  update() {
    this.x -= speed;
  }

  draw() {
    ctx.fillStyle = "#00f2ff";
    ctx.shadowBlur = 15;
    ctx.shadowColor = "#00f2ff";

    ctx.fillRect(this.x, 0, this.width, this.top);
    ctx.fillRect(this.x, this.top + this.gap, this.width, canvas.height);

    ctx.shadowBlur = 0;
  }
}

// üéÆ GAME
function start() {
  document.getElementById("ui").style.display = "none";
  dog.y = 260;
  dog.vy = 0;
  obstacles = [];
  score = 0;
  frame = 0;
  active = true;
  loop();
}

function lose() {
  active = false;
  alert("Argus failed the journey.");
  document.getElementById("ui").style.display = "flex";
}

function win() {
  active = false;
  alert("üèÜ Argus reached Odysseus!");
  document.getElementById("ui").style.display = "flex";
}

// INPUT
window.onkeydown = e => { if (e.code === "Space") dog.vy = dog.jump; };
canvas.onmousedown = () => dog.vy = dog.jump;

// LOOP
function loop() {
  if (!active) return;

  ctx.clearRect(0,0,canvas.width,canvas.height);

  if (frame % 110 === 0) obstacles.push(new Obstacle());

  for (let i = obstacles.length - 1; i >= 0; i--) {
    let o = obstacles[i];
    o.update();
    o.draw();

    // collision
    if (
      dog.x + 30 > o.x &&
      dog.x - 30 < o.x + o.width &&
      (dog.y < o.top || dog.y > o.top + o.gap)
    ) lose();

    if (o.x + o.width < 0) obstacles.splice(i,1);
  }

  dog.update();
  dog.draw();
  odysseus.draw();

  if (dog.x + 30 >= odysseus.x - 20) win();

  score++;
  document.getElementById("score").innerText = score;

  frame++;
  requestAnimationFrame(loop);
}
</script>
</body>
</html>
